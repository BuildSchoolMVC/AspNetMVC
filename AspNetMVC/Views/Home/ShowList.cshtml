@model IEnumerable<CustomerService>
@{
    ViewBag.Title = "客服問題集";
}

<section class="container-lg" style="margin:150px auto 300px;">
    <h1 class="mt-5 mb-3">客服問題集</h1>
    <table class="table">
        <tr class="thead-dark">
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Phone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsRead)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreatedTime)
            </th>
        </tr>

        @foreach (var item in Model)
        {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Id)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Phone)
            </td>
            @DisplayReadState(item.IsRead, item.Id)
            @DisplayCategory(item.Category)
            <td>
                @Html.DisplayFor(modelItem => item.CreatedTime)
            </td>
        </tr>
        }

    </table>
</section>


@helper DisplayCategory(int category)
{
    if (category == 1)
    {
       <td>儲值問題</td>
    }else if(category == 2)
    {
        <td>諮詢問題</td>
    }
    else
    {
        <td>客訴問題</td>
    }
}
@helper DisplayReadState(bool isRead,int id) { 
    if (isRead)
    {
       <td>@Html.ActionLink("已讀", "ShowDetail", new { id = id })</td>
    }
    else
    {
       <td>@Html.ActionLink("未讀", "ShowDetail",new { id = id})</td>
    }
}